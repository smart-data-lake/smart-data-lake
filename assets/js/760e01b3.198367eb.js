"use strict";(self.webpackChunksmart_data_lake=self.webpackChunksmart_data_lake||[]).push([[2633],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),b=a,f=u["".concat(s,".").concat(b)]||u[b]||d[b]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=b;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},9647:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={id:"hoconVariables",title:"Hocon Variables"},i="Variables",l={unversionedId:"reference/hoconVariables",id:"reference/hoconVariables",title:"Hocon Variables",description:"Variables can be used to serve various goals. On the one hand, we want to prevent repeating specifications, keep specifications flexible, but also want to be able to change settings at call time.",source:"@site/docs/reference/hoconVariables.md",sourceDirName:"reference",slug:"/reference/hoconVariables",permalink:"/docs/reference/hoconVariables",draft:!1,editUrl:"https://github.com/smart-data-lake/smart-data-lake/tree/documentation/docs/reference/hoconVariables.md",tags:[],version:"current",frontMatter:{id:"hoconVariables",title:"Hocon Variables"},sidebar:"docs",previous:{title:"Hocon Configurations",permalink:"/docs/reference/hoconOverview"},next:{title:"Hocon Secrets",permalink:"/docs/reference/hoconSecrets"}},s={},c=[{value:"Local Substitution",id:"local-substitution",level:2},{value:"Environment variables",id:"environment-variables",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"variables"},"Variables"),(0,a.kt)("p",null,"Variables can be used to serve various goals. On the one hand, we want to prevent repeating specifications, keep specifications flexible, but also want to be able to change settings at call time. "),(0,a.kt)("p",null,"Here are some examples listed. "),(0,a.kt)("h2",{id:"local-substitution"},"Local Substitution"),(0,a.kt)("p",null,'Local substitution allows to reuse the id of a configuration object inside its attribute definitions by the special token "~{id}". See the following example:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'dataObjects {\n  dataXY {\n    type = HiveTableDataObject\n    path = "/data/~{id}"\n    table {\n      db = "default"\n      name = "~{id}"\n    }\n  }\n}\n')),(0,a.kt)("p",null,"Note: local substitution only works in a fixed set of attributes defined in Environment.configPathsForLocalSubstitution."),(0,a.kt)("p",null,"Furthermore, you can reuse specified variables, e.g."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'devprofile {\n  hostname: "jdbc:derby://metastore"\n}\n\nglobal {\n  spark-options {\n    "spark.hadoop.javax.jdo.option.ConnectionURL" = ${devprofile.hostname}":1527/db"\n')),(0,a.kt)("h2",{id:"environment-variables"},"Environment variables"),(0,a.kt)("p",null,"In Hocon, environment variables can be used. Further we distinguish if the variables are required or optional. "),(0,a.kt)("p",null,"As an example, requiring a DB password, due to the absence of an elaborated secret store:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'  "spark.hadoop.javax.jdo.option.ConnectionPassword" = ${METASTOREPW}\n')),(0,a.kt)("p",null,"As another example the environment variable ",(0,a.kt)("inlineCode",{parentName:"p"},"CONNTIMEOUT")," is used to overwrite the value of ",(0,a.kt)("inlineCode",{parentName:"p"},"connectionTimeoutMs")," if it exists:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    connectionTimeoutMs = 200000\n    connectionTimeoutMs = ${?CONNTIMEOUT}\n")))}d.isMDXComponent=!0}}]);